package FilaComArquivo;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Scanner;

public class ArquivoFila {

	String url = "fila\\fila.bin";
	Path path = Paths.get(url);

	public Object salvar(Object ObjetoFila) throws IOException {

		if (!Files.exists(path)) {
			Files.createDirectories(path.getParent());
		}

		File arquivoFila = new File(url);

		FileOutputStream gravarArquivo = new FileOutputStream(arquivoFila, true);
		ObjectOutputStream gravarObjeto = new ObjectOutputStream(gravarArquivo);

		gravarObjeto.writeObject(ObjetoFila);
		gravarObjeto.flush();
		gravarObjeto.close();
		gravarArquivo.close();

		return arquivoFila;
	}

	public Object recuperar(String arquivoFilaSelecionado) throws Exception {

		FileInputStream recuperarArquivo = new FileInputStream(
				arquivoFilaSelecionado);
		ObjectInputStream recuperarObjeto = new ObjectInputStream(
				recuperarArquivo);

		Object objetoLido = recuperarObjeto.readObject();

		recuperarObjeto.close();
		recuperarArquivo.close();

		return objetoLido;
	}
}
